<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; media-src 'self' file: data: blob:;" />
  <style>
    html,body{margin:0;height:100%;overflow:hidden;background:rgba(0,0,0,0)}
    #card{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
      padding:12px 18px;border-radius:16px;background:rgba(0,0,0,.25);
      -webkit-backdrop-filter: blur(10px);backdrop-filter: blur(10px);
      color:#fff;font:28px/1.3 'Microsoft YaHei UI','Segoe UI',system-ui,sans-serif;
      text-shadow:0 2px 4px rgba(0,0,0,.6);min-width:420px;
      -webkit-app-region: drag;   /* 整个卡片可拖动 */
      user-select: none; 
    }
    #line{white-space:nowrap;max-width:1200px;overflow:hidden;text-overflow:ellipsis}
    #next{opacity:.55;font-size:.85em;margin-top:4px;white-space:nowrap;max-width:1200px;overflow:hidden;text-overflow:ellipsis}
    #nudge{position:absolute;inset:0;border:2px dashed rgba(255,255,255,.25);border-radius:18px;display:none}
    #toolbar{
      position:absolute; top:-10px; right:-10px; display:flex; gap:6px; align-items:center;
      opacity:0; transition:opacity .15s ease;
    }
    #card.show-toolbar #toolbar{ opacity:1; }

    #btnClose{
      -webkit-app-region: no-drag; /* 按钮可点击 */
      cursor:pointer;
      width:28px; height:28px; line-height:26px; border-radius:14px; border:none;
      background:rgba(0,0,0,.45); color:#fff; font-size:18px;
      box-shadow:0 1px 3px rgba(0,0,0,.35);
    }
    #title{
    font-size:14px;
    opacity:.9;
    margin-bottom:4px;
    white-space:nowrap;
    max-width:1200px;
    overflow:hidden;
    text-overflow:ellipsis;
    }

    #toolbar{
    position:absolute; top:-10px; right:-10px;
    display:flex; gap:6px; align-items:center;
    opacity:0; transition:opacity .15s ease;
    }
    #card.show-toolbar #toolbar{ opacity:1; }

    #toolbar-left{
    display:flex;
    gap:4px;
    }

    .ctl-btn{
    -webkit-app-region: no-drag;
    cursor:pointer;
    width:24px;
    height:24px;
    border-radius:12px;
    border:none;
    background:rgba(0,0,0,.45);
    color:#fff;
    font-size:14px;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 1px 3px rgba(0,0,0,.35);
    }
    .ctl-btn:hover{
    background:rgba(255,255,255,.2);
    }
  </style>
</head>
<body>
  <div id="card">
    <div id="toolbar">
        <div id="toolbar-left">
        <button id="btnPrev" class="ctl-btn" title="上一首">⏮</button>
        <button id="btnToggle" class="ctl-btn" title="播放/暂停">⏯</button>
        <button id="btnNext" class="ctl-btn" title="下一首">⏭</button>
        </div>
      <button id="btnClose" title="关闭悬浮歌词">×</button>
    </div>
    <div id="title"></div>
    <div id="line"></div>
    <div id="next"></div>
    <div id="nudge"></div>
  </div>
  <script src="./overlay.js"></script>
</body>
</html>